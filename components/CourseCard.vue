<template>
    <section class="bg-white shadow-lg rounded-lg overflow-hidden">
        <div>
            <img class="siteCourse__card--img" :src="requireImage(`assets/images/lessons/${course.image}`)" :alt="course.title">
        </div>
        <div class="relative px-6 pb-6 pt-12">
            <span class="siteCourse__icon">
                <svg v-if="course.type === 'mini'" class="siteCourse__icon--svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" version="1.1" fill="#000000"><g id="surface1" fill="#000000"><path style=" " d="M 11 4.0625 C 8.308594 4.296875 5.941406 5.433594 4.3125 7.125 C 4.492188 7.144531 4.660156 7.144531 4.84375 7.1875 C 6.074219 7.476563 7.175781 8.253906 7.9375 9.21875 C 8.6875 8.46875 9.757813 7.945313 11 7.75 Z M 13 4.0625 L 13 7.75 C 14.242188 7.941406 15.308594 8.472656 16.0625 9.21875 C 16.824219 8.257813 17.929688 7.476563 19.15625 7.1875 C 19.347656 7.140625 19.53125 7.113281 19.71875 7.09375 C 18.082031 5.398438 15.699219 4.292969 13 4.0625 Z M 3.90625 9.0625 C 3.449219 9.042969 3.039063 9.175781 2.6875 9.4375 C 2.257813 10.386719 2.03125 11.421875 2.03125 12.5 C 2.03125 14.71875 3.046875 16.734375 4.6875 18.25 C 4.738281 17.59375 4.828125 16.957031 5.0625 16.375 C 5.53125 15.203125 6.378906 14.269531 7.46875 13.625 C 7.070313 13.050781 6.8125 12.386719 6.8125 11.6875 C 6.8125 11.566406 6.863281 11.429688 6.875 11.3125 C 6.527344 10.335938 5.484375 9.417969 4.375 9.15625 C 4.210938 9.117188 4.058594 9.070313 3.90625 9.0625 Z M 20.09375 9.0625 C 19.9375 9.070313 19.792969 9.117188 19.625 9.15625 C 18.53125 9.414063 17.519531 10.324219 17.15625 11.28125 C 17.175781 11.417969 17.21875 11.550781 17.21875 11.6875 C 17.21875 12.390625 16.96875 13.050781 16.5625 13.625 C 17.644531 14.269531 18.46875 15.207031 18.9375 16.375 C 19.171875 16.964844 19.296875 17.621094 19.34375 18.28125 C 20.996094 16.761719 22 14.730469 22 12.5 C 22 11.429688 21.769531 10.414063 21.34375 9.46875 C 20.988281 9.195313 20.5625 9.042969 20.09375 9.0625 Z M 9.125 15.03125 C 8.082031 15.429688 7.328125 16.148438 6.9375 17.125 C 6.636719 17.875 6.542969 18.742188 6.6875 19.65625 C 8.230469 20.488281 10.046875 21 12 21 C 13.945313 21 15.746094 20.511719 17.28125 19.6875 C 17.429688 18.769531 17.363281 17.878906 17.0625 17.125 C 16.675781 16.152344 15.9375 15.433594 14.90625 15.03125 C 14.082031 15.464844 13.070313 15.75 12 15.75 C 10.929688 15.75 9.953125 15.464844 9.125 15.03125 Z " fill="#000000"/></g></svg>
                <svg v-if="course.type === 'kids'" class="siteCourse__icon--svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" fill="#000000"><path d="M 25 4 C 13.753 4 2.3707656 13.313 2.0097656 31.125 C 2.0037656 31.414 2 31.706 2 32 C 2 32.1 2.0039062 32.193969 2.0039062 32.292969 C 3.2759062 30.253969 5.2670938 28.543891 8.2460938 27.962891 C 9.0470938 26.256891 11.763 25 15 25 C 18.261 25 20.992484 26.276 21.771484 28 L 28.230469 28 C 29.008469 26.276 31.740953 25 35.001953 25 C 38.238953 25 40.954859 26.256891 41.755859 27.962891 C 44.733859 28.543891 46.724094 30.253969 47.996094 32.292969 C 47.995094 32.193969 48 32.1 48 32 C 48 13.618 36.43 4 25 4 z M 21.769531 30 C 20.991531 31.724 18.259047 33 14.998047 33 C 11.750047 33 9.0282813 31.733531 8.2382812 30.019531 C 4.1852813 31.022531 2.7556719 34.663047 2.2636719 37.123047 C 2.7866719 42.172047 3.9165156 45.195422 3.9785156 45.357422 C 4.1095156 45.701422 4.4191563 45.943234 4.7851562 45.990234 C 5.1571562 46.035234 5.5116094 45.881031 5.7246094 45.582031 C 5.7796094 45.507031 11.324 38 25 38 C 38.606 38 44.220438 45.508031 44.273438 45.582031 C 44.463437 45.846031 44.768891 46 45.087891 46 C 45.129891 46 45.171844 45.997187 45.214844 45.992188 C 45.579844 45.945188 45.890484 45.700422 46.021484 45.357422 C 46.083484 45.195422 47.213328 42.174 47.736328 37.125 C 47.244328 34.664 45.814719 31.022531 41.761719 30.019531 C 40.971719 31.733531 38.248 33 35 33 C 31.74 33 29.007516 31.724 28.228516 30 L 21.769531 30 z" fill="#000000"/></svg>
                <svg v-if="course.type === 'adults'" class="siteCourse__icon--svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" version="1.1" fill="#000000"><g id="surface1" fill="#000000"><path style=" " d="M 9.84375 6 C 9.746094 6.015625 9.652344 6.046875 9.5625 6.09375 L 3.5625 9.09375 C 3.0625 9.335938 2.851563 9.9375 3.09375 10.4375 C 3.335938 10.9375 3.9375 11.148438 4.4375 10.90625 L 9.625 8.3125 L 9.8125 8.65625 L 10.90625 11.59375 C 10.804688 11.59375 5.105469 14.988281 3.90625 15.6875 C 4.707031 15.886719 5.707031 16 6.90625 16 C 10.804688 16 13.289063 14.6875 15.6875 14.1875 L 10.90625 6.5 L 10.875 6.53125 L 10.84375 6.5 C 10.644531 6.144531 10.246094 5.949219 9.84375 6 Z M 19 7 C 17.34375 7 16 8.34375 16 10 C 16 11.65625 17.34375 13 19 13 C 20.65625 13 22 11.65625 22 10 C 22 8.34375 20.65625 7 19 7 Z M 0.09375 16 C 0.09375 16 2.289063 20 7.6875 20 C 12.488281 20 15.386719 18 18.6875 18 C 22.6875 18 24.09375 20 24.09375 20 C 24.09375 20 22 16 17.5 16 C 14.5 16 11.898438 18 7 18 C 2 18 0.09375 16 0.09375 16 Z " fill="#000000"/></g></svg>
            </span>
            <header class="mb-4">
                <h3 class="text-xl font-semibold mb-2">{{ course.title }}</h3>
                <div class="flex items-center justify-center">
                    <span class="text-lg text-primary font-semibold">{{course.price}}JD</span>
                    <span class="text-sm mx-1 text-slate-400">/</span>
                    <span class="text-sm text-slate-400">Person</span>
                </div>
            </header>
            <p class="sectionParagraph text-sm">{{ course.description }}</p>
        </div>
        <footer class="flex justify-between items-center border-t border-slate-200 py-3 px-5">
            <div class="flex items-center">
                <Icon
                    name="gridicons:multiple-users"
                    size="20"
                    class="mr-1 text-primary"
                />
                <span class="text-xs">{{ course.enrolled }} Enrolled</span>
            </div>
            <div class="flex items-center">
                <Icon
                    name="material-symbols:book"
                    size="20"
                    class="mr-1 text-primary"
                />
                <span class="text-xs">{{ course.lessonsCount }}x Lessons</span>
            </div>
        </footer>
    </section>
</template>

<script>
    export default {
        props: {
            course: {
                type: Object,
                required: true,
            },
        },
        methods: {
            requireImage(path) {
                return `${this.$config.public.appHost}${this.$config.app.buildAssetsDir}${path}`;
            }
        }
    }
</script>

<style>
    .siteCourse__icon {
        @apply flex w-16 h-16 justify-center items-center rounded-full bg-white absolute bottom-full left-0 right-0 mx-auto z-10;
        transform: translateY(50%);
        border-color: rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 0 10px rgba(255, 255, 255, 0.4);
    }
    .siteCourse__icon--svg {
        @apply w-10 h-10;
    }
    .siteCourse__card--img {
        @apply w-full max-h-72 object-cover;
    }
</style>